<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Introduction &mdash; PLAMS documentation</title>
    
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/boxes.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="PLAMS documentation" href="index.html" />
    <link rel="next" title="2. Getting started" href="started.html" />
    <link rel="prev" title="Python Library for Automating Molecular Simulations" href="index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="started.html" title="2. Getting started"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Python Library for Automating Molecular Simulations"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PLAMS documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-plams">
<h2>1.1. What is PLAMS<a class="headerlink" href="#what-is-plams" title="Permalink to this headline">¶</a></h2>
<p>PLAMS (Python Library for Automating Molecular Simulation) is a collection of tools that aim at providing powerful, flexible and easily extendable Python interface to molecular modeling programs. It takes care of input preparation, job execution, file management and output processing as well as helps with building more advanced data workflows.</p>
<p>Usually the daily work of a computational chemist consists of running a number of calculations. Those calculations are done using one or more molecular modeling programs, like for example ADF, BAND, Turbomole or Dirac (we will call such programs <em>external binaries</em>). Obtaining results with one of such programs requires a series of steps. First, the subject of the problem (description of a molecular system, set of desired simulation parameters) has to be presented in the format understandable by molecular modeling program and written to an <em>input file</em> which is usually some sort of a text file. Then the program is executed, it runs and produces <em>output</em> which is a collection of text or binary files. That output usually contains much more information than is required for a particular problem and needs to be processed and data of interest has to be extracted and (possibly) postprocessed. Needless to say that different computational tools use different input and output formats and are executed differently. And on top of that, in most cases many of such <em>single calculations</em> need to be performed to solve the problem of interest. That requires significant effort to be put into data hygiene to avoid confusing or overwriting input and output files from distinct calculations.</p>
<p>Each of the above steps, apart from actual calculation done by a molecular modeling program, needs to be performed by a human. Preparing and editing text files, creating folders in the filesystem, copying files between them and reading data from output all sum up to significant amount of tedious, repetitive and highly error-prone work. Some users deal with it using various types of automation, usually in form of ad hoc shell scripts. A few programs, like ADF Suite, offer graphical user interface to help with this kind of work, but again input preparation and output examination, even though assisted with convenient tools, have to be done by a human. That creates a bottleneck if we want to create automatic computational workflows, where output data of one calculation is used (usually after some processing) as an input to another calculation, sometimes done with different program on a different machine.</p>
<p>PLAMS was created to solve all these problems. It takes responsibility of all tiresome and monotonous technical details allowing you to focus on real science and your problem. It lets you do all the things mentioned above (and many more) using simple Python scripts. It gives you a helping hand with automating repetitive or complicated tasks in your daily work while still leaving you with 100% control over what is really happening with your files, disks and CPUs.</p>
</div>
<div class="section" id="what-can-be-done-with-plams">
<h2>1.2. What can be done with PLAMS<a class="headerlink" href="#what-can-be-done-with-plams" title="Permalink to this headline">¶</a></h2>
<p>The key design principle of PLAMS is <em>flexibility</em>. If something (by something we mean: adjusting an input parameter, executing binary with particular options, extracting a value from output etc.) can be done by hand, it can be done with PLAMS. The internal structure of the library was designed in highly modular, object-oriented manner. Thanks to that it takes very little effort to adjust its behavior to one&#8217;s personal needs or to extend its functionality.</p>
<dl class="docutils">
<dt>Most important features of PLAMS:</dt>
<dd><ul class="first last simple">
<li>preparing, running and examining results of molecular modeling job from within a single Python script</li>
<li>convenient automatic file and folder management</li>
<li>running jobs in parallel without a need to prepare a special script</li>
<li>integration with popular job schedulers (OGE, SLURM, TORQUE)</li>
<li>reading and writing molecular coordinates using various formats (<code class="docutils literal"><span class="pre">xyz</span></code>, <code class="docutils literal"><span class="pre">mol</span></code>, <code class="docutils literal"><span class="pre">mol2</span></code>, <code class="docutils literal"><span class="pre">pdb</span></code>)</li>
<li>prevention of multiple runs of the same job</li>
<li>easy data transfer between separate runs</li>
<li>efficient restarting in case of crash</li>
<li>full coverage of all input options and output data in ADF, BAND and DFTB</li>
<li>support for Dirac (and more coming soon)</li>
<li>easy extendable for other programs, job schedulers, file formats etc.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="simple-example">
<h2>1.3. Simple example<a class="headerlink" href="#simple-example" title="Permalink to this headline">¶</a></h2>
<p>To provide some real life example: here is a simple PLAMS script which calculates a potential energy curve of a diatomic system:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#type of atoms (atomic number)</span>
<span class="n">atom1</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">atom2</span> <span class="o">=</span> <span class="mi">1</span>

<span class="c">#interatomic distance values</span>
<span class="n">dmin</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="n">dmax</span> <span class="o">=</span> <span class="mf">1.5</span>
<span class="n">step</span> <span class="o">=</span> <span class="mf">0.05</span>

<span class="c">#create a list with interatomic distances</span>
<span class="n">distances</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">dist</span> <span class="o">=</span> <span class="n">dmin</span>
<span class="k">while</span> <span class="n">dist</span> <span class="o">&lt;</span> <span class="n">dmax</span><span class="p">:</span>
    <span class="n">distances</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">dist</span><span class="p">)</span>
    <span class="n">dist</span> <span class="o">+=</span> <span class="n">step</span>

<span class="c">#set single calculation parameters (single point, TZ2P/PW91)</span>
<span class="n">sett</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>
<span class="n">sett</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">basis</span><span class="o">.</span><span class="n">type</span> <span class="o">=</span> <span class="s">&#39;TZ2P&#39;</span>
<span class="n">sett</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">geometry</span><span class="o">.</span><span class="n">sp</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">sett</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">xc</span><span class="o">.</span><span class="n">gga</span> <span class="o">=</span> <span class="s">&#39;PW91&#39;</span>

<span class="c">#create a list of jobs</span>
<span class="n">jobs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">distances</span><span class="p">:</span>
    <span class="n">mol</span> <span class="o">=</span> <span class="n">Molecule</span><span class="p">()</span>
    <span class="n">mol</span><span class="o">.</span><span class="n">add_atom</span><span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="n">atnum</span><span class="o">=</span><span class="n">atom1</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
    <span class="n">mol</span><span class="o">.</span><span class="n">add_atom</span><span class="p">(</span><span class="n">Atom</span><span class="p">(</span><span class="n">atnum</span><span class="o">=</span><span class="n">atom2</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)))</span>
    <span class="n">job</span> <span class="o">=</span> <span class="n">ADFJob</span><span class="p">(</span><span class="n">molecule</span><span class="o">=</span><span class="n">mol</span><span class="p">,</span> <span class="n">settings</span><span class="o">=</span><span class="n">sett</span><span class="p">)</span>
    <span class="n">jobs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">job</span><span class="p">)</span>

<span class="c">#run jobs</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[</span><span class="n">j</span><span class="o">.</span><span class="n">run</span><span class="p">()</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">jobs</span><span class="p">]</span>

<span class="c">#extract bond energy from each calculation</span>
<span class="n">energies</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span><span class="o">.</span><span class="n">readkf</span><span class="p">(</span><span class="s">&#39;Energy&#39;</span><span class="p">,</span> <span class="s">&#39;Bond Energy&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>

<span class="c">#convert to kcal/mol and print</span>
<span class="n">energies</span> <span class="o">=</span> <span class="p">[</span><span class="n">Units</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="s">&#39;au&#39;</span><span class="p">,</span> <span class="s">&#39;kcal/mol&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">energies</span><span class="p">]</span>
<span class="k">print</span> <span class="s">&#39;d[A]    E[kcal/mol]&#39;</span>
<span class="k">for</span> <span class="n">d</span><span class="p">,</span><span class="n">e</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">distances</span><span class="p">,</span> <span class="n">energies</span><span class="p">):</span>
    <span class="k">print</span> <span class="s">&#39;</span><span class="si">%.2f</span><span class="s">    </span><span class="si">%.3f</span><span class="s">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">d</span><span class="p">,</span><span class="n">e</span><span class="p">)</span>
</pre></div>
</div>
<p>Don&#8217;t worry if something in the above code is incomprehensible or confusing. Everything you need to know to understand how PLAMS is working and how to write your own scripts is explained in next chapters of this documentation.</p>
<p>When executed, the above script creates uniquely named working folder, then runs 24 independent ADF single point calculations, each in a separate subfolder of the working folder. All files created by each run are saved in the corresponding subfolder for future reference. Finally, the following table describing the potential energy curve of a hydrogen molecule is written to the standard output:</p>
<div class="highlight-python"><div class="highlight"><pre>d[A]    E[kcal/mol]
0.30    143.301
0.35    36.533
0.40    -33.410
0.45    -79.900
0.50    -110.823
0.55    -131.120
0.60    -143.997
0.65    -151.598
0.70    -155.418
0.75    -156.492
0.80    -155.572
0.85    -153.205
0.90    -149.793
0.95    -145.635
1.00    -140.959
1.05    -135.937
1.10    -130.699
1.15    -125.344
1.20    -119.950
1.25    -114.576
1.30    -109.267
1.35    -104.055
1.40    -98.967
1.45    -94.021
</pre></div>
</div>
</div>
<div class="section" id="what-plams-is-not">
<h2>1.4. What PLAMS is <em>not</em><a class="headerlink" href="#what-plams-is-not" title="Permalink to this headline">¶</a></h2>
<p>It should be stressed here that PLAMS is not a <em>program</em>, it&#8217;s a <em>library</em>. That means it&#8217;s not a standalone tool, it doesn&#8217;t run or do anything by itself. To work it needs both an external binary on one side and properly written Python script on the other. Being a library means that PLAMS is in fact just a collection of commands and objects that can be used from within a regular Python script to perform common molecular modeling tasks.</p>
<p>Because of the above PLAMS won&#8217;t take your hand and guide you, it won&#8217;t detect and warn you if you are about to do something stupid and it won&#8217;t do anything except the things you explicitly asked for. You have to understand what you are doing, you have to know how to use the binary you want PLAMS to work with and you have to have at least very basic knowledge of Python programming language.</p>
</div>
<div class="section" id="about-this-documentation">
<h2>1.5. About this documentation<a class="headerlink" href="#about-this-documentation" title="Permalink to this headline">¶</a></h2>
<p>This documentation tries to be a combination of tutorial and API reference. Whenever possible, discussed concepts are explained in a &#8220;know-how&#8221; manner, with example code snippets illustrating practical aspects and possible applications of particular class or method. On the other hand, an introduction of each object is followed by a rigorous description of its semantics (arguments taken, value returned, exceptions raised etc.). We believe that this way the right balance between comprehensiveness and intelligibility can be achieved.</p>
<p>The documentation was written keeping in mind users with various level of technical expertise, from programming newcomers to professional developers. Therefore some readers will find some parts trivial and redundant, while for others other parts will appear mysterious and incomprehensible. Please do not get discouraged by this fact, reading and understanding every single line of this document is not necessary for the majority of users.</p>
<p>The following special text formatting appears within this document:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Usually used to stress especially important piece of information that user needs to keep in mind while using a particular object or mechanism.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Information absolutely critical for correct and secure work of the whole library. You should never violate rules given here.</p>
</div>
<div class="technical admonition">
<p class="first admonition-title">Technical</p>
<p class="last">More detailed technical explanation of some part of the code aimed at users with better technical background. Understanding it may require advanced Python knowledge. These parts can be safely skipped without a harm to general comprehension.</p>
</div>
<p>It is assumed that the reader has some basic understanding of Python programming language. Gentle introduction to Python can be found in the excellent <a class="reference external" href="http://docs.python.org/2.7/tutorial/index.html#tutorial-index" title="(in Python v2.7)"><span class="xref std std-ref">Python Tutorial</span></a> and other parts of the official Python documentation.</p>
<p>Majority of examples presented within this document uses as an external binary either ADF, BAND or DFTB. Please refer to the corresponding program&#8217;s manual if some clarification is needed.</p>
<p>The last section presents a collection of real life example scripts that cover various possible applications of PLAMS. Due to early stage of the project this section is not yet too extensive. Users are warmly welcome to help with enriching it, as well as to provide any kind of feedback regarding either PLAMS itself or this documentation to <a class="reference external" href="mailto:support&#37;&#52;&#48;scm&#46;com">support<span>&#64;</span>scm<span>&#46;</span>com</a></p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo"><a href="http://www.scm.com/">
  <img class="logo" src="_static/scm_logo.png" alt="Logo"/>
</a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Introduction</a><ul>
<li><a class="reference internal" href="#what-is-plams">1.1. What is PLAMS</a></li>
<li><a class="reference internal" href="#what-can-be-done-with-plams">1.2. What can be done with PLAMS</a></li>
<li><a class="reference internal" href="#simple-example">1.3. Simple example</a></li>
<li><a class="reference internal" href="#what-plams-is-not">1.4. What PLAMS is <em>not</em></a></li>
<li><a class="reference internal" href="#about-this-documentation">1.5. About this documentation</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Python Library for Automating Molecular Simulations</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="started.html"
                        title="next chapter">2. Getting started</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/intro.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="started.html" title="2. Getting started"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Python Library for Automating Molecular Simulations"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PLAMS documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Scientific Computing &amp; Modelling.
    </div>
  </body>
</html>